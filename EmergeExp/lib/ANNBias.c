#include <..\lib\ANNBias.h>

//const float weightIH[ANN_INPUT_SIZE+1][ANN_HIDDEN_SIZE] = {{-8.17410411e+00,-3.69749173e-01,-3.37432496e+00,-9.63443796e-01, -2.05480242e+00,-2.47940699e+00,-2.65349088e+00, 7.30936439e-01,1.14655498e+01,-2.11181218e+00,-2.77133659e+00,-2.23608357e-01}, { -3.38155701e+00,-1.77392657e+00, 3.52788305e+00,-1.83199349e+00,1.13528297e+00,-3.04734088e+00,-3.09437011e+00,-2.24593708e+00, -6.09067878e+00,-5.87841529e-01,-9.22921968e+00, 5.41888379e+00}, { -5.45565058e-01,-9.80997784e-01,-7.33665619e+00,-6.30379422e-01, -4.54100409e+00,-2.44817287e+00, 1.94685605e+00,-6.63300392e-01, -3.49982277e+00, 2.26097764e-01,-5.10432119e+00, 7.56930451e+00}, { -1.32819803e+00,-1.60359560e+00,-1.18752630e+00,-8.44146668e-01, -6.10353674e+00, 8.88425072e-02, 1.34687188e+00, 8.46895328e-02,6.20978542e-01,-1.24527067e+00, 3.74170017e-02,-6.93612506e-03}, {1.30456673e-02, 2.07891088e-02, 1.88574272e+00,-1.95968591e+00, -1.86779724e-01, 1.76298688e+00, 6.22535863e-01,-4.78206449e+00, -4.40811040e+00,-1.86025238e+00, 1.40258315e+00,-5.78047356e-01}, { -1.13343876e+01,-1.07238601e+00,-2.26320855e+00,-2.85557433e+00, -4.30360936e-01,-4.46404752e+00,-3.01445816e+00, 2.31736797e+00, -4.85847416e+00, 1.63945783e+00, 6.52674553e-01, 1.60174281e+00}, {7.08145864e+00,-7.16001758e+00,-2.96141642e+00,-4.40296705e+00, -1.43052086e+00, 6.60299746e-01,-9.84715810e+00,-1.96978773e-01, -5.61739930e+00, 1.05298908e+00,-7.08031640e+00,-1.82598223e+00}, { -5.21541228e-01, 1.40605048e+00, 1.67800166e+01, 7.75245925e+00, -8.40357038e+00,-5.69548040e+00,-7.14677493e+00,-1.03188813e+01, -6.72435068e-01,-3.05191053e+00,-6.09368678e+00,-5.20491542e+00}, { -2.59042307e+00, 1.63377662e-01, 4.48259728e+00,-4.83490091e-01,2.32345203e+00, 8.94164201e+00,-1.21021047e+00,-1.54613708e+00, -5.84568438e+00, 1.42589562e+00,-1.49925767e+00,-7.59362235e+00}, { -9.08220926e-01, 7.85167115e-01, 2.27989880e-01, 3.59456952e+00,3.02346454e+00, 4.87707627e+00, 4.57642331e+00,-3.68051235e+00, -3.10412572e+00,-1.16776719e+00, 2.00257429e+00,-5.68176380e+00}, {1.02065545e+00,-4.08772417e+00,-1.28792113e+00,-2.41857335e+00, -8.06910809e+00,-4.81817218e+00,-4.32885542e+00, 5.80026591e+00, -2.95272641e+00,-2.51720754e+00,-1.18860104e+01,-1.84909306e+00}, { -1.77849212e+00,-5.28184039e-01,-6.72947883e+00,-2.36353262e+00, -3.35569876e+00, 9.04116452e+00,-4.38711618e+00, 5.22523113e+00,5.56516061e+00,-5.57599057e-01,-3.78495460e+00,-1.71359136e+00}, { -3.18463569e+00, 3.01905188e+00,-1.77478618e+00, 1.81683581e+00,1.48477960e+00,-2.15760254e+00, 4.50226556e+00,-3.94071610e+00, -6.51057134e+00,-5.88978152e+00,-9.09160065e-01,-4.14544629e-01}};
//const float weightHO[ANN_HIDDEN_SIZE+1][ANN_OUTPUT_SIZE] = {{2.16997555e+00, 4.31267150e-02, 4.22607818e-02, 5.22098499e-03, -1.00681048e+01, 1.44809186e-01}, {5.30910448e-02,-1.93676127e-03,-2.72708398e-01, 4.40621325e-02, -1.70652830e-03, 6.59630109e-01}, {8.45661733e-03,-1.16720581e-09, 3.40109511e-09, 7.48721888e-10,2.19653352e-09, 3.82533239e-09}, {1.19932253e-08, 1.31581993e-10,-1.11042252e-09, 8.34966045e-09,4.02198661e-10,-8.83070823e-10}, { -1.16268837e-08,-7.30633578e-12, 6.19039211e-01,-8.04287441e-09, -2.68058732e-09,-4.32488411e-09}, { -9.48400064e-09,-2.98221742e-08, 4.82924424e-10, 2.70796131e-09, -1.14053756e-08,-1.79500824e-09}, {3.05901409e-09, 1.98591337e-08,-6.77817482e-10,-6.19039201e-01, -2.00540202e-08,-6.73430994e-09}, { -1.07319201e-08,-2.36767022e-08,-7.44312241e-08, 1.23821543e-09,6.75671559e-09,-2.80460636e-08}, { -4.51824414e-09, 7.68149665e-09, 4.92099695e-08,-1.72080455e-09,3.10734231e-01,-4.43277144e+00}, {6.49196207e-01,-5.84621252e+00,-1.59863047e+00,-5.38427571e+00,1.69646853e+00, 2.19299360e+00}, { -3.25876625e+00,-5.01985644e-01,-8.04574551e-01, 6.01976427e+00, -7.49499247e-01,-5.07032977e-01}, { -4.62124789e+00, 3.18765888e+00,-3.27662005e+00, 7.78128226e-01, -2.77174317e+00,-1.97732499e+00}, {2.62565831e+00,-7.10993149e+00, 1.33053582e+00,-3.70620608e+00,2.44130199e-01, 1.98476591e+00}};

//const float weightIH[ANN_INPUT_SIZE+1][ANN_HIDDEN_SIZE] = {{-0.99405217, -7.11409375, 10., 0.49777618, 1.47399325, -2.02499896, 8.07574945, 8.96326516, -4.60389224, -8.96871351, 0.5664701, -0.1746336}, {-8.46623501, -9.18417238, -8.67644362, 10., -9.43238038, -6.24042814, -0.16828409, 7.34169684, 6.4420707, 4.72568438, 10., -9.63145044}, {5.36275899, 5.35050372, 7.98313518, -9.99695411, -3.67666406, -7.38618329, 6.20583765, 3.88120497, 0.70955091, -2.32965926, 4.03101398, -1.4690232}, {-9.80287549, -2.07714553, 6.40034017, 8.15843806, -9.93525069, -9.18317854, -9.20123592, 9.36361647, 3.77118562, -9.04913497, -9.13701571, -8.70405774}, {-1.60035337, -10., 0.69177303, -10., -0.95056371, -9.91945398, -2.727955, 5.88151023, 7.19874942, 9.86340208, -5.05143302, 8.75129829}, {-9.32635448, -1.03327236, -4.98951241, 1.40286392, -10., 9.19975325, 10., -2.62038514, 7.15478959, 0.57254712, -9.44987348, -0.37271484}, {10., 0.27058566, -4.47245519, 8.43598008, -5.53356197, -2.65751311, -8.74061659, -2.42191731, -5.95662039, -3.76447184, -8.36376453, -7.4511005}, {7.18770605, 10., 2.82650118, -1.41951494, 5.60312298, -1.47080979, 9.75016816, 1.35829033, 8.792039, 1.01771044, 7.25242583, 8.43747621}, {5.4245499, 9.87169074, -4.65712869, 7.85899203, -10., -1.40198923, -8.75119743, -9.51474587, -10., -9.97740647, 10., -8.67082102}, {8.48905683, 2.44243483, -6.58579997, -4.13208628, 2.49719214, 3.04204988, -5.84243452, 8.24151533, 1.54975551, -1.4817304, -1.45538754, 10.}, {2.3502394, 0.51396492, 5.9658349, 1.17115418, 8.5912056, -5.86771304, 6.75806715, 2.1289658, -5.77897325, -9.86703304, -8.17926677, 10.}, {0.76304882, -1.0987119, 6.49578891, 2.07779089, 0.88456068, -7.62670418, 5.45752827, -4.53497501, -3.690277, -6.30037691, -10., 9.13924518}, {3.05280117, 2.62492604, 6.89945729, -4.56710324, 0.36240134, 4.09328928, -9.88839649, 6.33326972, -0.06573605, 4.18114981, 8.13437447, 3.77139437}};
//const float weightHO[ANN_HIDDEN_SIZE+1][ANN_OUTPUT_SIZE] = {{-7.82914848, -1.64168402, 7.35974099, 6.30068915, -8.42036397, -0.13525981}, {-2.04528681, 8.99003324, 7.71102804, 9.66188043, -0.16967791, 6.08717908}, {-1.94148463, -3.30885225, 1.62686919, -1.75553564, -9.6044919, 10.}, {5.65178047, -2.0710593, -0.95383119, 8.6117094, 9.43631322, 10.}, {-9.2038322, -2.10823886, -1.29062487, 4.13587264, 9.97551287, -10.}, {-2.3078812, -9.46114422, -4.43115402, 1.79610004, 10., 3.27640134}, {9.93374434, -9.83467135, 9.90761062, 7.67136966, 8.13189554, 8.68418017}, {-9.65824275, -1.44430735, 0.59202374, 4.58268437, 1.16182697, -0.28208313}, {-9.05549454, -1.35624968, -10., -9.50259952, -9.76615801, 4.69117645}, {-1.72425881, 6.57876211, 7.89882664, -4.01754247, 4.62648447, 5.46759111}, {2.17917173, 0.85610923, 3.46872867, -9.40482197, -9.48225508, -6.48670674}, {2.46778687, 9.3115724, 9.53669721, -3.16425364, 9.28773044, -2.38694559}, {-9.73594249, -9.0810851, -6.47096051, -9.42808742, 9.68067251, -10.}};

const float weightIH[ANN_INPUT_SIZE+1][ANN_HIDDEN_SIZE] = {{-9.01973650e+00, -1.33875183e+00, 2.28249501e+00, 6.32073224e-03, -4.46257176e+00, -2.69155911e+00, -6.50746164e+00, 4.33112995e+00, -2.02538601e+00, 8.23644762e-01, -7.59395602e+00, 8.79565725e+00}, {5.59891363e+00, -6.34252670e+00, 9.84353843e+00, -8.27218360e+00, 5.88941534e+00, 9.81502888e+00, 2.68824037e+00, 8.84853107e+00, 3.00390204e+00, -1.53163321e+00, -8.45688993e+00, -3.16773611e+00}, {7.73229926e+00, 5.50549709e-01, 3.00534394e+00, 3.07078956e+00, -6.87964046e-01, -7.81868088e+00, 7.47652746e+00, 6.24301267e+00, -6.74705950e+00, 1.83047887e+00, -8.85528660e+00, -7.88025588e+00}, {3.03070236e-01, -2.24537740e+00, -9.26203434e+00, 4.35017667e+00, -6.92659261e+00, 9.80917715e+00, 5.16965632e-01, -5.96958169e+00, 4.56230490e+00, -4.41617733e+00, 7.46922507e-02, 8.58612210e+00}, {3.17612720e+00, -8.83125205e+00, 8.52827050e+00, 1.43081963e+00, 3.19850807e+00, 5.12302189e-01, 4.95437310e-01, -7.43504387e+00, 4.98657291e+00, -8.41246970e+00, -6.11698611e+00, -4.84164325e+00}, {-6.30334109e+00, -2.01651025e+00, 7.03367333e+00, 6.90466541e+00, -7.80240704e+00, 1.18348625e+00, 4.79988186e+00, -3.80970684e+00, 1.14145981e+00, -2.05049418e+00, -5.91216732e+00, 4.18397851e+00}, {-6.86405173e+00, -2.54387412e+00, 1.25911161e+00, -2.03524506e+00, 9.09993929e+00, -5.36977071e+00, 3.64161715e+00, -3.46952142e+00, 6.13313772e+00, 6.56798027e+00, 6.75726586e+00, 6.74160457e-01}, {-6.90223089e+00, -1.29968142e+00, 4.95450055e+00, -5.46061441e-01, -1.83427154e+00, -4.16432420e+00, -2.21030431e+00, -8.67858964e+00, -4.74162793e+00, 8.11505541e+00, -5.91921215e+00, -3.18450921e+00}, {5.63370428e+00, -1.62848314e+00, -2.16492286e-01, -3.95887181e+00, 4.68536434e+00, 3.75951154e+00, 1.86574832e+00, -1.71584774e+00, 7.82505597e+00, -8.13812521e+00, 6.21564812e+00, -1.39591814e+00}, {-7.77605859e+00, 4.50521114e+00, -5.94924511e+00, -6.93453813e+00, -1.44235271e+00, 4.25025541e+00, -9.36786889e+00, -3.87027658e-01, 4.48975139e+00, -1.92198697e+00, -9.75968301e-01, -2.89475074e+00}, {8.81823870e+00, 3.18813369e+00, 7.15626160e-01, 9.41375244e+00, 9.13168824e+00, 5.02199637e+00, 6.98044149e+00, -6.49030786e+00, 4.92192994e+00, -3.85822785e-01, 6.03652392e+00, 5.16741062e+00}, {-7.97163793e+00, 5.82139053e+00, -8.29820471e+00, 8.01472243e+00, 4.12537450e-01, 3.05303767e+00, -6.57852716e+00, 9.20918256e+00, 7.67205831e+00, 6.15905235e+00, -3.87223464e+00, 1.41494749e+00}, {1.00000000e+01, -3.88684356e+00, -4.59284043e+00, -2.92913319e+00, 7.36054706e+00, -3.09290469e+00, 5.00726147e+00, 8.94803184e-01, 4.81607174e+00, 2.44557631e+00, -5.68437904e+00, -1.93129770e+00}};
const float weightHO[ANN_HIDDEN_SIZE+1][ANN_OUTPUT_SIZE] = {{-6.24392395, 4.65522983, 0.09408505, -9.94875417, -3.32696658, 0.24519041}, {2.42584852, 7.83920252, 0.08275971, -9.55270624, -1.54962019, -5.32989893}, {-4.5014516, -4.95499279, 7.16799024, -7.03498799, -2.68951425, 1.09037225}, {5.18324375, 0.63901474, -2.89089281, -2.88692179, 0.24654581, 0.481152}, {5.28846457, -9.70059151, 8.09474182, 3.65047316, 2.58313624, 3.34823272}, {5.27740577, 7.80215931, -5.15604341, 5.01698047, 2.68257439, 1.68853776}, {5.68681585, 0.93412045, 1.43754811, -3.20685766, -5.56638789, 3.81913084}, {-1.81035693, 1.37222641, 6.87080741, 5.49683115, 3.25668164, 5.02123076}, {-4.93559586, 6.77916613, 2.67916474, 5.73527306, 1.25432284, -1.96124591}, {0.20278716, -8.96525567, 7.6388848, -7.87373318, -3.50512038, 1.16459528}, {2.59632349, -9.14885783, -1.92496076, 3.38759215, 5.20031827, -0.98245258}, {-0.76615626, -6.53598617, 4.01967822, 2.98441011, 0.461665, -3.79900131}, {9.34906972, 6.5166938, 1.47755851, 3.15361686, -1.10067768, -4.21344381}};

void propagateANN(float input [],float output[]){
    float sumH[ANN_HIDDEN_SIZE];
    float hidden[ANN_HIDDEN_SIZE];
    float sumO[ANN_OUTPUT_SIZE];
    int i,j,k;
    for( j = 0 ; j < ANN_HIDDEN_SIZE ; j++ ) {         /* j loop computes hidden unit activations */
        
        sumH[j] = weightIH[0][j];
        for( i = 1 ; i < ANN_INPUT_SIZE + 1 ; i++ ) {
            sumH[j] += input[i-1] * weightIH[i][j] ;
        }
        hidden[j] = 1.0/(1.0 + exp(-sumH[j])) ;
    }
    
    for( k = 0 ; k < ANN_OUTPUT_SIZE ; k++ ) {         /* k loop computes output unit activations */

        sumO[k] = weightHO[0][k];
        for( j = 1 ; j < ANN_HIDDEN_SIZE + 1  ; j++ ) {
            sumO[k] += hidden[j-1] * weightHO[j][k] ;
        }
        output[k] = 1.0/(1.0 + exp(-sumO[k])) ;

    } 
      
}