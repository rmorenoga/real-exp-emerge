#include <..\lib\ANNBias.h>

//const float weightIH[ANN_INPUT_SIZE+1][ANN_HIDDEN_SIZE] = {{-8.17410411e+00,-3.69749173e-01,-3.37432496e+00,-9.63443796e-01, -2.05480242e+00,-2.47940699e+00,-2.65349088e+00, 7.30936439e-01,1.14655498e+01,-2.11181218e+00,-2.77133659e+00,-2.23608357e-01}, { -3.38155701e+00,-1.77392657e+00, 3.52788305e+00,-1.83199349e+00,1.13528297e+00,-3.04734088e+00,-3.09437011e+00,-2.24593708e+00, -6.09067878e+00,-5.87841529e-01,-9.22921968e+00, 5.41888379e+00}, { -5.45565058e-01,-9.80997784e-01,-7.33665619e+00,-6.30379422e-01, -4.54100409e+00,-2.44817287e+00, 1.94685605e+00,-6.63300392e-01, -3.49982277e+00, 2.26097764e-01,-5.10432119e+00, 7.56930451e+00}, { -1.32819803e+00,-1.60359560e+00,-1.18752630e+00,-8.44146668e-01, -6.10353674e+00, 8.88425072e-02, 1.34687188e+00, 8.46895328e-02,6.20978542e-01,-1.24527067e+00, 3.74170017e-02,-6.93612506e-03}, {1.30456673e-02, 2.07891088e-02, 1.88574272e+00,-1.95968591e+00, -1.86779724e-01, 1.76298688e+00, 6.22535863e-01,-4.78206449e+00, -4.40811040e+00,-1.86025238e+00, 1.40258315e+00,-5.78047356e-01}, { -1.13343876e+01,-1.07238601e+00,-2.26320855e+00,-2.85557433e+00, -4.30360936e-01,-4.46404752e+00,-3.01445816e+00, 2.31736797e+00, -4.85847416e+00, 1.63945783e+00, 6.52674553e-01, 1.60174281e+00}, {7.08145864e+00,-7.16001758e+00,-2.96141642e+00,-4.40296705e+00, -1.43052086e+00, 6.60299746e-01,-9.84715810e+00,-1.96978773e-01, -5.61739930e+00, 1.05298908e+00,-7.08031640e+00,-1.82598223e+00}, { -5.21541228e-01, 1.40605048e+00, 1.67800166e+01, 7.75245925e+00, -8.40357038e+00,-5.69548040e+00,-7.14677493e+00,-1.03188813e+01, -6.72435068e-01,-3.05191053e+00,-6.09368678e+00,-5.20491542e+00}, { -2.59042307e+00, 1.63377662e-01, 4.48259728e+00,-4.83490091e-01,2.32345203e+00, 8.94164201e+00,-1.21021047e+00,-1.54613708e+00, -5.84568438e+00, 1.42589562e+00,-1.49925767e+00,-7.59362235e+00}, { -9.08220926e-01, 7.85167115e-01, 2.27989880e-01, 3.59456952e+00,3.02346454e+00, 4.87707627e+00, 4.57642331e+00,-3.68051235e+00, -3.10412572e+00,-1.16776719e+00, 2.00257429e+00,-5.68176380e+00}, {1.02065545e+00,-4.08772417e+00,-1.28792113e+00,-2.41857335e+00, -8.06910809e+00,-4.81817218e+00,-4.32885542e+00, 5.80026591e+00, -2.95272641e+00,-2.51720754e+00,-1.18860104e+01,-1.84909306e+00}, { -1.77849212e+00,-5.28184039e-01,-6.72947883e+00,-2.36353262e+00, -3.35569876e+00, 9.04116452e+00,-4.38711618e+00, 5.22523113e+00,5.56516061e+00,-5.57599057e-01,-3.78495460e+00,-1.71359136e+00}, { -3.18463569e+00, 3.01905188e+00,-1.77478618e+00, 1.81683581e+00,1.48477960e+00,-2.15760254e+00, 4.50226556e+00,-3.94071610e+00, -6.51057134e+00,-5.88978152e+00,-9.09160065e-01,-4.14544629e-01}};
//const float weightHO[ANN_HIDDEN_SIZE+1][ANN_OUTPUT_SIZE] = {{2.16997555e+00, 4.31267150e-02, 4.22607818e-02, 5.22098499e-03, -1.00681048e+01, 1.44809186e-01}, {5.30910448e-02,-1.93676127e-03,-2.72708398e-01, 4.40621325e-02, -1.70652830e-03, 6.59630109e-01}, {8.45661733e-03,-1.16720581e-09, 3.40109511e-09, 7.48721888e-10,2.19653352e-09, 3.82533239e-09}, {1.19932253e-08, 1.31581993e-10,-1.11042252e-09, 8.34966045e-09,4.02198661e-10,-8.83070823e-10}, { -1.16268837e-08,-7.30633578e-12, 6.19039211e-01,-8.04287441e-09, -2.68058732e-09,-4.32488411e-09}, { -9.48400064e-09,-2.98221742e-08, 4.82924424e-10, 2.70796131e-09, -1.14053756e-08,-1.79500824e-09}, {3.05901409e-09, 1.98591337e-08,-6.77817482e-10,-6.19039201e-01, -2.00540202e-08,-6.73430994e-09}, { -1.07319201e-08,-2.36767022e-08,-7.44312241e-08, 1.23821543e-09,6.75671559e-09,-2.80460636e-08}, { -4.51824414e-09, 7.68149665e-09, 4.92099695e-08,-1.72080455e-09,3.10734231e-01,-4.43277144e+00}, {6.49196207e-01,-5.84621252e+00,-1.59863047e+00,-5.38427571e+00,1.69646853e+00, 2.19299360e+00}, { -3.25876625e+00,-5.01985644e-01,-8.04574551e-01, 6.01976427e+00, -7.49499247e-01,-5.07032977e-01}, { -4.62124789e+00, 3.18765888e+00,-3.27662005e+00, 7.78128226e-01, -2.77174317e+00,-1.97732499e+00}, {2.62565831e+00,-7.10993149e+00, 1.33053582e+00,-3.70620608e+00,2.44130199e-01, 1.98476591e+00}};

//const float weightIH[ANN_INPUT_SIZE+1][ANN_HIDDEN_SIZE] = {{-0.99405217, -7.11409375, 10., 0.49777618, 1.47399325, -2.02499896, 8.07574945, 8.96326516, -4.60389224, -8.96871351, 0.5664701, -0.1746336}, {-8.46623501, -9.18417238, -8.67644362, 10., -9.43238038, -6.24042814, -0.16828409, 7.34169684, 6.4420707, 4.72568438, 10., -9.63145044}, {5.36275899, 5.35050372, 7.98313518, -9.99695411, -3.67666406, -7.38618329, 6.20583765, 3.88120497, 0.70955091, -2.32965926, 4.03101398, -1.4690232}, {-9.80287549, -2.07714553, 6.40034017, 8.15843806, -9.93525069, -9.18317854, -9.20123592, 9.36361647, 3.77118562, -9.04913497, -9.13701571, -8.70405774}, {-1.60035337, -10., 0.69177303, -10., -0.95056371, -9.91945398, -2.727955, 5.88151023, 7.19874942, 9.86340208, -5.05143302, 8.75129829}, {-9.32635448, -1.03327236, -4.98951241, 1.40286392, -10., 9.19975325, 10., -2.62038514, 7.15478959, 0.57254712, -9.44987348, -0.37271484}, {10., 0.27058566, -4.47245519, 8.43598008, -5.53356197, -2.65751311, -8.74061659, -2.42191731, -5.95662039, -3.76447184, -8.36376453, -7.4511005}, {7.18770605, 10., 2.82650118, -1.41951494, 5.60312298, -1.47080979, 9.75016816, 1.35829033, 8.792039, 1.01771044, 7.25242583, 8.43747621}, {5.4245499, 9.87169074, -4.65712869, 7.85899203, -10., -1.40198923, -8.75119743, -9.51474587, -10., -9.97740647, 10., -8.67082102}, {8.48905683, 2.44243483, -6.58579997, -4.13208628, 2.49719214, 3.04204988, -5.84243452, 8.24151533, 1.54975551, -1.4817304, -1.45538754, 10.}, {2.3502394, 0.51396492, 5.9658349, 1.17115418, 8.5912056, -5.86771304, 6.75806715, 2.1289658, -5.77897325, -9.86703304, -8.17926677, 10.}, {0.76304882, -1.0987119, 6.49578891, 2.07779089, 0.88456068, -7.62670418, 5.45752827, -4.53497501, -3.690277, -6.30037691, -10., 9.13924518}, {3.05280117, 2.62492604, 6.89945729, -4.56710324, 0.36240134, 4.09328928, -9.88839649, 6.33326972, -0.06573605, 4.18114981, 8.13437447, 3.77139437}};
//const float weightHO[ANN_HIDDEN_SIZE+1][ANN_OUTPUT_SIZE] = {{-7.82914848, -1.64168402, 7.35974099, 6.30068915, -8.42036397, -0.13525981}, {-2.04528681, 8.99003324, 7.71102804, 9.66188043, -0.16967791, 6.08717908}, {-1.94148463, -3.30885225, 1.62686919, -1.75553564, -9.6044919, 10.}, {5.65178047, -2.0710593, -0.95383119, 8.6117094, 9.43631322, 10.}, {-9.2038322, -2.10823886, -1.29062487, 4.13587264, 9.97551287, -10.}, {-2.3078812, -9.46114422, -4.43115402, 1.79610004, 10., 3.27640134}, {9.93374434, -9.83467135, 9.90761062, 7.67136966, 8.13189554, 8.68418017}, {-9.65824275, -1.44430735, 0.59202374, 4.58268437, 1.16182697, -0.28208313}, {-9.05549454, -1.35624968, -10., -9.50259952, -9.76615801, 4.69117645}, {-1.72425881, 6.57876211, 7.89882664, -4.01754247, 4.62648447, 5.46759111}, {2.17917173, 0.85610923, 3.46872867, -9.40482197, -9.48225508, -6.48670674}, {2.46778687, 9.3115724, 9.53669721, -3.16425364, 9.28773044, -2.38694559}, {-9.73594249, -9.0810851, -6.47096051, -9.42808742, 9.68067251, -10.}};

const float weightIH[ANN_INPUT_SIZE+1][ANN_HIDDEN_SIZE] = {{0.11502351, 6.05984652, 1.25405409, -5.87937653, -3.73630865, 0.25857646, -0.16679507, 2.83516596, 2.38684759, -2.40253541, 0.58048272, 7.10961827}, {5.1197071, 5.20203089, -5.99522101, -5.97013677, 4.36742699, -0.65731031, -0.32205597, -1.78865723, -6.02403034, -6.92922537, -0.04505539, 3.73372736}, {-4.38522623, -3.56451137, 3.83605419, -1.54217932, -2.73337847, -4.75327524, 1.32726621, -0.29128867, -1.0873192, 3.68262576, -5.11452707, -0.77845769}, {-4.14946588, 3.78537464, -5.1690735, 0.84530507, 1.5533916, -1.52854432, 0.60892484, -0.46068034, -4.3435422, 3.70310126, -0.84148212, 2.62318681}, {7.46864408, 5.08336989, 0.44993046, 0.84436865, -4.01417329, 2.94066962, 3.29054312, 1.22182358, 3.02314005, 0.37277069, 3.02488741, -1.41557384}, {4.21287015, -3.90830693, 3.24868024, 1.33490663, 9.34320142, -4.15962578, 5.21209623, 3.27609412, -4.57539737, 0.61337036, 1.96341254, -8.90775967}, {1.67362159, -1.36167849, 5.45307926, -0.08959248, 2.48740985, 0.13509617, 7.97903093, 7.40360652, 9.19462805, -3.72109027, -0.61690261, 1.88679425}, {4.20268219, -1.65313771, -6.39675982, 2.64149737, 2.26202789, 3.38007377, -5.14064722, -1.37189442, -0.93252399, -0.90219159, -0.57950377, -1.40888056}, {-4.64504984, -6.25684814, -5.2709836, 4.24623189, 5.71871658, -1.11286265, 3.50034655, -1.93929755, 6.17416716, 1.95185903, -3.13911658, -5.64596873}, {0.18082712, 0.16708147, -0.0118908, -6.3216369, 4.22427198, -1.5895096, 0.18412322, -4.58115425, 4.41891831, 4.97739872, 8.90812755, -3.44286367}, {5.37836895, -1.64954574, 3.14625502, -2.77615734, 7.241112, 5.85795254, -3.15945285, -2.68167509, -3.78329755, -5.5978303, -2.57002294, -1.47871099}, {4.45651214, -3.0988961, 1.69520218, -6.80609421, -1.01744784, -4.27888399, -5.39780942, 5.95089259, -1.08592124, -1.33700195, 8.07508761, 7.67604452}, {-5.58326376, -4.89547073, 4.81641235, -5.84554479, 1.53732219, 0.76435903, -2.76886435, -2.50214295, -4.71454364, -1.10404976, 0.50223968, 1.46999602}};
const float weightHO[ANN_HIDDEN_SIZE+1][ANN_OUTPUT_SIZE] = {{6.04063636e+00, 2.43775590e+00, -1.88166522e-01, 7.20205937e+00, -5.85479322e+00, -1.61008544e+00}, {2.28516299e+00, 1.25569536e+00, -5.53814387e+00, 4.03382599e+00, 7.00895173e+00, -5.72219733e+00}, {-2.10831678e+00, -4.28520922e+00, -3.54602860e+00, 6.49174723e+00, -7.85329624e+00, -6.88688426e+00}, {2.66279998e+00, -5.86440152e-01, 4.03280726e+00, 7.52880982e+00, 8.67885918e-01, 9.00285356e+00}, {-3.70962742e+00, 1.36603193e+00, 7.20927578e+00, 4.40998798e+00, 5.20280840e+00, -4.69583832e+00}, {2.64477665e+00, 7.81524913e-01, -8.72695938e-04, 3.27395014e-01, -1.81410772e+00, 4.38659277e+00}, {2.31491417e-01, -3.88111814e+00, 7.27317906e+00, -3.16204823e+00, -5.40749597e-01, -3.33002476e+00}, {-2.45775801e-01, -1.73128813e+00, 4.51323323e+00, 4.00931608e+00, 1.07524478e+00, 2.98050049e+00}, {-5.34304058e+00, -1.43418519e+00, 1.79790243e+00, 2.45356601e+00, -1.86691075e+00, 5.06405143e+00}, {-5.83366964e+00, 5.97843427e-01, 1.03449852e+00, -5.73734758e+00, -3.38101401e+00, 2.52689879e+00}, {-1.65030145e+00, -3.61680808e+00, -1.27518355e+00, 9.37209751e-01, 5.62368180e+00, -1.16890425e+00}, {-7.73071479e+00, -4.89604314e+00, -3.51607530e-01, -6.43992234e-01, 3.60376261e+00, 3.20156422e+00}, {1.00071510e+00, 2.26153471e+00, -6.60186868e+00, -6.70712022e+00, 3.67218808e+00, -3.11243777e+00}};

void propagateANN(float input [],float output[]){
    float sumH[ANN_HIDDEN_SIZE];
    float hidden[ANN_HIDDEN_SIZE];
    float sumO[ANN_OUTPUT_SIZE];
    int i,j,k;
    for( j = 0 ; j < ANN_HIDDEN_SIZE ; j++ ) {         /* j loop computes hidden unit activations */
        
        sumH[j] = weightIH[0][j];
        for( i = 1 ; i < ANN_INPUT_SIZE + 1 ; i++ ) {
            sumH[j] += input[i-1] * weightIH[i][j] ;
        }
        hidden[j] = 1.0/(1.0 + exp(-sumH[j])) ;
    }
    
    for( k = 0 ; k < ANN_OUTPUT_SIZE ; k++ ) {         /* k loop computes output unit activations */

        sumO[k] = weightHO[0][k];
        for( j = 1 ; j < ANN_HIDDEN_SIZE + 1  ; j++ ) {
            sumO[k] += hidden[j-1] * weightHO[j][k] ;
        }
        output[k] = 1.0/(1.0 + exp(-sumO[k])) ;

    } 
      
}