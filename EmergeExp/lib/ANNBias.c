#include <..\lib\ANNBias.h>

//const float weightIH[ANN_INPUT_SIZE+1][ANN_HIDDEN_SIZE] = {{-8.17410411e+00,-3.69749173e-01,-3.37432496e+00,-9.63443796e-01, -2.05480242e+00,-2.47940699e+00,-2.65349088e+00, 7.30936439e-01,1.14655498e+01,-2.11181218e+00,-2.77133659e+00,-2.23608357e-01}, { -3.38155701e+00,-1.77392657e+00, 3.52788305e+00,-1.83199349e+00,1.13528297e+00,-3.04734088e+00,-3.09437011e+00,-2.24593708e+00, -6.09067878e+00,-5.87841529e-01,-9.22921968e+00, 5.41888379e+00}, { -5.45565058e-01,-9.80997784e-01,-7.33665619e+00,-6.30379422e-01, -4.54100409e+00,-2.44817287e+00, 1.94685605e+00,-6.63300392e-01, -3.49982277e+00, 2.26097764e-01,-5.10432119e+00, 7.56930451e+00}, { -1.32819803e+00,-1.60359560e+00,-1.18752630e+00,-8.44146668e-01, -6.10353674e+00, 8.88425072e-02, 1.34687188e+00, 8.46895328e-02,6.20978542e-01,-1.24527067e+00, 3.74170017e-02,-6.93612506e-03}, {1.30456673e-02, 2.07891088e-02, 1.88574272e+00,-1.95968591e+00, -1.86779724e-01, 1.76298688e+00, 6.22535863e-01,-4.78206449e+00, -4.40811040e+00,-1.86025238e+00, 1.40258315e+00,-5.78047356e-01}, { -1.13343876e+01,-1.07238601e+00,-2.26320855e+00,-2.85557433e+00, -4.30360936e-01,-4.46404752e+00,-3.01445816e+00, 2.31736797e+00, -4.85847416e+00, 1.63945783e+00, 6.52674553e-01, 1.60174281e+00}, {7.08145864e+00,-7.16001758e+00,-2.96141642e+00,-4.40296705e+00, -1.43052086e+00, 6.60299746e-01,-9.84715810e+00,-1.96978773e-01, -5.61739930e+00, 1.05298908e+00,-7.08031640e+00,-1.82598223e+00}, { -5.21541228e-01, 1.40605048e+00, 1.67800166e+01, 7.75245925e+00, -8.40357038e+00,-5.69548040e+00,-7.14677493e+00,-1.03188813e+01, -6.72435068e-01,-3.05191053e+00,-6.09368678e+00,-5.20491542e+00}, { -2.59042307e+00, 1.63377662e-01, 4.48259728e+00,-4.83490091e-01,2.32345203e+00, 8.94164201e+00,-1.21021047e+00,-1.54613708e+00, -5.84568438e+00, 1.42589562e+00,-1.49925767e+00,-7.59362235e+00}, { -9.08220926e-01, 7.85167115e-01, 2.27989880e-01, 3.59456952e+00,3.02346454e+00, 4.87707627e+00, 4.57642331e+00,-3.68051235e+00, -3.10412572e+00,-1.16776719e+00, 2.00257429e+00,-5.68176380e+00}, {1.02065545e+00,-4.08772417e+00,-1.28792113e+00,-2.41857335e+00, -8.06910809e+00,-4.81817218e+00,-4.32885542e+00, 5.80026591e+00, -2.95272641e+00,-2.51720754e+00,-1.18860104e+01,-1.84909306e+00}, { -1.77849212e+00,-5.28184039e-01,-6.72947883e+00,-2.36353262e+00, -3.35569876e+00, 9.04116452e+00,-4.38711618e+00, 5.22523113e+00,5.56516061e+00,-5.57599057e-01,-3.78495460e+00,-1.71359136e+00}, { -3.18463569e+00, 3.01905188e+00,-1.77478618e+00, 1.81683581e+00,1.48477960e+00,-2.15760254e+00, 4.50226556e+00,-3.94071610e+00, -6.51057134e+00,-5.88978152e+00,-9.09160065e-01,-4.14544629e-01}};
//const float weightHO[ANN_HIDDEN_SIZE+1][ANN_OUTPUT_SIZE] = {{2.16997555e+00, 4.31267150e-02, 4.22607818e-02, 5.22098499e-03, -1.00681048e+01, 1.44809186e-01}, {5.30910448e-02,-1.93676127e-03,-2.72708398e-01, 4.40621325e-02, -1.70652830e-03, 6.59630109e-01}, {8.45661733e-03,-1.16720581e-09, 3.40109511e-09, 7.48721888e-10,2.19653352e-09, 3.82533239e-09}, {1.19932253e-08, 1.31581993e-10,-1.11042252e-09, 8.34966045e-09,4.02198661e-10,-8.83070823e-10}, { -1.16268837e-08,-7.30633578e-12, 6.19039211e-01,-8.04287441e-09, -2.68058732e-09,-4.32488411e-09}, { -9.48400064e-09,-2.98221742e-08, 4.82924424e-10, 2.70796131e-09, -1.14053756e-08,-1.79500824e-09}, {3.05901409e-09, 1.98591337e-08,-6.77817482e-10,-6.19039201e-01, -2.00540202e-08,-6.73430994e-09}, { -1.07319201e-08,-2.36767022e-08,-7.44312241e-08, 1.23821543e-09,6.75671559e-09,-2.80460636e-08}, { -4.51824414e-09, 7.68149665e-09, 4.92099695e-08,-1.72080455e-09,3.10734231e-01,-4.43277144e+00}, {6.49196207e-01,-5.84621252e+00,-1.59863047e+00,-5.38427571e+00,1.69646853e+00, 2.19299360e+00}, { -3.25876625e+00,-5.01985644e-01,-8.04574551e-01, 6.01976427e+00, -7.49499247e-01,-5.07032977e-01}, { -4.62124789e+00, 3.18765888e+00,-3.27662005e+00, 7.78128226e-01, -2.77174317e+00,-1.97732499e+00}, {2.62565831e+00,-7.10993149e+00, 1.33053582e+00,-3.70620608e+00,2.44130199e-01, 1.98476591e+00}};

//const float weightIH[ANN_INPUT_SIZE+1][ANN_HIDDEN_SIZE] = {{-0.99405217, -7.11409375, 10., 0.49777618, 1.47399325, -2.02499896, 8.07574945, 8.96326516, -4.60389224, -8.96871351, 0.5664701, -0.1746336}, {-8.46623501, -9.18417238, -8.67644362, 10., -9.43238038, -6.24042814, -0.16828409, 7.34169684, 6.4420707, 4.72568438, 10., -9.63145044}, {5.36275899, 5.35050372, 7.98313518, -9.99695411, -3.67666406, -7.38618329, 6.20583765, 3.88120497, 0.70955091, -2.32965926, 4.03101398, -1.4690232}, {-9.80287549, -2.07714553, 6.40034017, 8.15843806, -9.93525069, -9.18317854, -9.20123592, 9.36361647, 3.77118562, -9.04913497, -9.13701571, -8.70405774}, {-1.60035337, -10., 0.69177303, -10., -0.95056371, -9.91945398, -2.727955, 5.88151023, 7.19874942, 9.86340208, -5.05143302, 8.75129829}, {-9.32635448, -1.03327236, -4.98951241, 1.40286392, -10., 9.19975325, 10., -2.62038514, 7.15478959, 0.57254712, -9.44987348, -0.37271484}, {10., 0.27058566, -4.47245519, 8.43598008, -5.53356197, -2.65751311, -8.74061659, -2.42191731, -5.95662039, -3.76447184, -8.36376453, -7.4511005}, {7.18770605, 10., 2.82650118, -1.41951494, 5.60312298, -1.47080979, 9.75016816, 1.35829033, 8.792039, 1.01771044, 7.25242583, 8.43747621}, {5.4245499, 9.87169074, -4.65712869, 7.85899203, -10., -1.40198923, -8.75119743, -9.51474587, -10., -9.97740647, 10., -8.67082102}, {8.48905683, 2.44243483, -6.58579997, -4.13208628, 2.49719214, 3.04204988, -5.84243452, 8.24151533, 1.54975551, -1.4817304, -1.45538754, 10.}, {2.3502394, 0.51396492, 5.9658349, 1.17115418, 8.5912056, -5.86771304, 6.75806715, 2.1289658, -5.77897325, -9.86703304, -8.17926677, 10.}, {0.76304882, -1.0987119, 6.49578891, 2.07779089, 0.88456068, -7.62670418, 5.45752827, -4.53497501, -3.690277, -6.30037691, -10., 9.13924518}, {3.05280117, 2.62492604, 6.89945729, -4.56710324, 0.36240134, 4.09328928, -9.88839649, 6.33326972, -0.06573605, 4.18114981, 8.13437447, 3.77139437}};
//const float weightHO[ANN_HIDDEN_SIZE+1][ANN_OUTPUT_SIZE] = {{-7.82914848, -1.64168402, 7.35974099, 6.30068915, -8.42036397, -0.13525981}, {-2.04528681, 8.99003324, 7.71102804, 9.66188043, -0.16967791, 6.08717908}, {-1.94148463, -3.30885225, 1.62686919, -1.75553564, -9.6044919, 10.}, {5.65178047, -2.0710593, -0.95383119, 8.6117094, 9.43631322, 10.}, {-9.2038322, -2.10823886, -1.29062487, 4.13587264, 9.97551287, -10.}, {-2.3078812, -9.46114422, -4.43115402, 1.79610004, 10., 3.27640134}, {9.93374434, -9.83467135, 9.90761062, 7.67136966, 8.13189554, 8.68418017}, {-9.65824275, -1.44430735, 0.59202374, 4.58268437, 1.16182697, -0.28208313}, {-9.05549454, -1.35624968, -10., -9.50259952, -9.76615801, 4.69117645}, {-1.72425881, 6.57876211, 7.89882664, -4.01754247, 4.62648447, 5.46759111}, {2.17917173, 0.85610923, 3.46872867, -9.40482197, -9.48225508, -6.48670674}, {2.46778687, 9.3115724, 9.53669721, -3.16425364, 9.28773044, -2.38694559}, {-9.73594249, -9.0810851, -6.47096051, -9.42808742, 9.68067251, -10.}};

const float weightIH[ANN_INPUT_SIZE+1][ANN_HIDDEN_SIZE] = {{1.00889448e+00, 5.78216044e+00, 4.45494721e-01, -1.93159186e+00, -6.51924433e-01, 5.69990187e+00, 4.73165920e+00, 1.85943009e-01, 4.08518748e-01, -9.21259395e-01, -2.03325990e+00, -5.43803962e+00}, {-4.37130548e-01, -3.57420882e-01, -2.13243250e-01, -2.45266708e+00, -8.26641229e-01, -8.99073764e-01, -2.28302248e+00, -6.29320912e+00, 6.73041454e+00, -2.68432288e+00, 2.33449930e+00, 9.65298120e-01}, {1.45459953e+00, -5.47289132e+00, -1.92020774e+00, -1.40404775e+00, -2.94051620e+00, 3.05845696e+00, -9.94520324e-01, 3.66471277e+00, 2.65176435e+00, -1.63805136e+00, -3.91167242e+00, 1.18991147e+00}, {1.07420685e+00, 3.40251244e+00, 4.10717390e+00, 9.71638251e+00, -2.44741220e+00, -6.33046677e-01, -3.85154923e+00, -6.35804375e+00, 9.86129656e-01, -1.81220142e+00, -6.82980882e+00, -8.06015985e+00}, {-2.47342596e-01, -1.75335059e+00, -2.91729441e+00, -1.10397398e+00, -2.14769939e+00, -1.02402567e+00, 8.28651861e-01, 2.58504921e+00, -3.98739767e+00, -3.16147168e+00, 1.92149579e+00, 2.07139405e+00}, {2.58487116e-01, -3.81346523e+00, 4.32114229e+00, 3.54190654e+00, -7.56547901e-01, 2.91338443e+00, 6.74333223e+00, -2.09836979e+00, -3.82861556e+00, 3.85002587e+00, 1.91602189e+00, 5.21004383e+00}, {3.23002487e+00, 3.50800676e+00, -2.42434455e+00, -2.46598259e+00, 6.33812026e+00, -2.13275934e-02, -2.63329974e+00, 6.70028545e+00, -1.32414622e+00, -4.32450048e+00, -2.34844280e+00, 7.50541660e+00}, {-1.91784143e+00, -3.35888432e-01, 4.70670540e+00, -9.59680844e-01, -9.32032224e-01, 1.64258765e+00, -2.58561104e+00, 1.68841653e-01, 3.34176839e+00, 6.29230327e+00, -2.64391738e+00, 2.82514681e+00}, {-1.83173239e+00, 1.53551074e-01, -4.24293691e+00, 2.07779133e+00, -3.53757539e+00, -2.16240460e+00, 2.66823485e+00, -1.53363639e+00, 1.83933587e+00, -1.90696859e+00, -1.01100321e+00, 4.40128848e-02}, {-6.84221458e+00, -6.31193973e+00, 2.00414513e+00, -3.86356713e-01, 1.34816047e+00, 1.46044113e+00, -5.89277392e-01, -3.48561190e+00, 3.03575727e+00, -3.98029502e-02, -2.73662246e+00, 2.81037143e+00}, {6.47723301e+00, 1.75800730e-01, 2.62931745e+00, 5.03291248e-01, 2.78107343e+00, 1.31686495e+00, 3.25244642e+00, -1.81889475e+00, -6.38983142e-01, -2.49465570e+00, -1.44036134e+00, 3.74251120e+00}, {2.96439794e+00, 8.37239493e-03, 4.45883467e+00, 3.16755245e+00, 8.12249357e-01, -5.50819031e+00, 3.61641829e+00, -5.12685109e+00, 4.89320874e+00, -4.93072879e-01, -2.53071081e+00, 1.15824568e+00}, {-2.58937929e+00, -6.91116105e+00, 1.91273133e+00, -1.95422331e-01, 3.63299693e+00, -1.18769737e+00, -2.51921413e+00, -6.64317998e+00, -2.45936742e+00, -7.16741577e+00, -5.47051368e-01, 3.33215622e+00}};
const float weightHO[ANN_HIDDEN_SIZE+1][ANN_OUTPUT_SIZE] = {{-0.32399191, -6.04999329, -1.3505398, 0.39774854, 2.76294915, 0.57484403}, {1.83355223, -0.64528902, 4.48460499, -4.24533603, 5.46498255, 1.04063918}, {-5.00679107, -0.22688113, 0.69500022, 2.61564295, 0.74905389, 1.91191027}, {0.50606072, -1.46614838, -3.16645669, 5.3063985, -3.30469707, 2.74940059}, {-7.7097463, 1.4625886, 0.27261171, -4.54699934, -2.13601201, -3.37864975}, {-0.57114036, -2.40717638, -0.55211363, -6.35359421, -4.99840801, 0.40062149}, {-4.57432313, -2.60031111, -7.32780904, -1.2834645, 3.00838898, -0.95439671}, {1.95148988, 6.25795183, -0.20993834, -4.1798483, 2.87576465, -1.59505814}, {1.63786305, 0.34648401, 5.71382386, 4.65868587, -3.01937777, 1.97289996}, {0.90189962, 3.71056579, 0.72762739, 1.80582025, -2.9721753, -3.43179059}, {-1.62635268, 0.45952612, 7.33780508, -1.83367444, -0.15726237, -1.15139349}, {-5.41228697, 3.22196611, -0.19725953, -7.52199936, 3.70639484, -0.63622592}, {3.72687797, 5.46065377, 2.71680112, -0.26676655, 0.08964064, 2.14019107}};
void propagateANN(float input [],float output[]){
    float sumH[ANN_HIDDEN_SIZE];
    float hidden[ANN_HIDDEN_SIZE];
    float sumO[ANN_OUTPUT_SIZE];
    int i,j,k;
    for( j = 0 ; j < ANN_HIDDEN_SIZE ; j++ ) {         /* j loop computes hidden unit activations */
        
        sumH[j] = weightIH[0][j];
        for( i = 1 ; i < ANN_INPUT_SIZE + 1 ; i++ ) {
            sumH[j] += input[i-1] * weightIH[i][j] ;
        }
        hidden[j] = 1.0/(1.0 + exp(-sumH[j])) ;
    }
    
    for( k = 0 ; k < ANN_OUTPUT_SIZE ; k++ ) {         /* k loop computes output unit activations */

        sumO[k] = weightHO[0][k];
        for( j = 1 ; j < ANN_HIDDEN_SIZE + 1  ; j++ ) {
            sumO[k] += hidden[j-1] * weightHO[j][k] ;
        }
        output[k] = 1.0/(1.0 + exp(-sumO[k])) ;

    } 
      
}